{"mappings":"gfAAA,IAYoBA,EACFC,EAblBC,EAAAC,EAAA,S,uCAUMC,GADSC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAE9BC,EAAmE,QAArDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOC,sBAAc,IAArDb,IAAyD,GACvEc,EAA+D,QAAnDb,EAAAO,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOG,oBAAY,IAAnDd,IAAuD,GA+CzE,SAASe,EAAYC,GACnB,OAAOC,EAAAC,YAAYC,MAAK,SAAAC,G,OAAKA,EAAFC,KAAgBL,C,KAtC7C,EAAAM,EAAAC,cAAaN,EAAAC,YAAaf,GAC1BA,EAAKqB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAEC,iBACED,EAAEE,OAAOC,UAAUC,SAAS,WAAY,CAC1C,IAAMR,EAASI,EAAEE,OAAOG,QAAQ,YAAYC,QAApCV,GACFW,EAAUjB,EAAYkB,OAAOZ,KACnC,EAAAa,EAAAC,aAAYH,E,CAEd,GAAIP,EAAEE,OAAOC,UAAUC,SAAS,aAAc,CAC5C,IAAMO,EAASX,EAAEE,OAAOG,QAAQ,YAAYC,QAApCV,GACFgB,EAAUtB,EAAYkB,OAAOG,IAGnC,GADkB9B,EAAYgC,MAAK,SAAAlB,G,OAAKA,EAAFC,KAAgBgB,EAAQhB,E,IAE5D,OAGFR,EAAU0B,KAAKF,GACf5B,aAAa+B,QAAQvC,EAAAU,OAAOG,WAAYP,KAAKkC,UAAU5B,G,CAGzD,GAAIY,EAAEE,OAAOC,UAAUC,SAAS,eAAgB,CAC9C,IAAMa,EAASjB,EAAEE,OAAOG,QAAQ,YAAYC,QAApCV,GACFsB,EAAU5B,EAAYkB,OAAOS,IAGnC,GADkBpC,EAAYgC,MAAK,SAAAlB,G,OAAKA,EAAFC,KAAgBsB,EAAQtB,E,IAE5D,OAGFf,EAAYiC,KAAKI,GACjBlC,aAAa+B,QAAQvC,EAAAU,OAAOC,aAAcL,KAAKkC,UAAUnC,G","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { instruments } from './helpers/instruments';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\n// const KEY_FAVORITE = 'favorite';\n// const KEY_BASKET = 'basket';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\n//  {\n//     id: 8,\n//     img: 'https://static.dnipro-m.ua/cache/products/2741/catalog_origin_271775.jpg',\n//     name: 'Генератор',\n//     price: 10890,\n//     description:\n//       'Бензиновий генератор GX-25 номінальною потужністю 2,5 кВт забезпечить автономність побутових приладів на дачі або у приватному будинку. Ви зможете одночасно підключити до нього освітлення, холодильник, зарядку телефону, ноутбук та водяний насос.',\n//   },\ncreateMarkup(instruments, list);\nlist.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  e.preventDefault();\n  if (e.target.classList.contains('js-info')) {\n    const { id } = e.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    createModal(product);\n  }\n  if (e.target.classList.contains('js-basket')) {\n    const { id } = e.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n\n  if (e.target.classList.contains('js-favorite')) {\n    const { id } = e.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n\nfunction findProduct(productID) {\n  return instruments.find(({ id }) => id === productID);\n}\n"],"names":["$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$7jJJd","parcelRequire","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$b8f9b7833fa37166$var$basketArr","KEY_BASKET","$b8f9b7833fa37166$var$findProduct","productID","$IPVlA","instruments","find","param","id","$l1rGz","createMarkup","addEventListener","e","preventDefault","target","classList","contains","closest","dataset","product","Number","$87LyB","createModal","id1","product1","some","push","setItem","stringify","id2","product2"],"version":3,"file":"index.fd35302c.js.map"}