{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCASeC,SAASC,cAAc,cAAtC,MACMC,EAAOF,SAASC,cAAc,Y,IAEhBE,EAApB,MAAMC,EAAmE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDP,IAAyD,G,IAC3DQ,EAAlB,MAAMC,EAA+D,QAAnDD,EAAAN,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOI,oBAAY,IAAnDF,IAAuD,GA+CzE,SAASG,EAAYC,GACnB,OAAOC,EAAAC,YAAYC,MAAK,EAACC,GAAEA,KAASA,IAAOJ,G,EAtC7C,EAAAK,EAAAC,cAAaL,EAAAC,YAAaf,GAC1BA,EAAKoB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAEC,iBACED,EAAEE,OAAOC,UAAUC,SAAS,WAAY,CAC1C,MAAMR,GAAEA,GAAOI,EAAEE,OAAOG,QAAQ,YAAYC,QACtCC,EAAUhB,EAAYiB,OAAOZ,KACnC,EAAAa,EAAAC,aAAYH,E,CAEd,GAAIP,EAAEE,OAAOC,UAAUC,SAAS,aAAc,CAC5C,MAAQR,GAAAe,GAAOX,EAAEE,OAAOG,QAAQ,YAAYC,QACtCC,EAAUhB,EAAYiB,OAAOG,IAGnC,GADkB9B,EAAY+B,MAAK,EAAChB,GAAEA,KAASA,IAAOW,EAAQX,KAE5D,OAGFP,EAAUwB,KAAKN,GACfvB,aAAa8B,QAAQvC,EAAAW,OAAOI,WAAYR,KAAKiC,UAAU1B,G,CAGzD,GAAIW,EAAEE,OAAOC,UAAUC,SAAS,eAAgB,CAC9C,MAAQR,GAAAoB,GAAOhB,EAAEE,OAAOG,QAAQ,YAAYC,QACtCC,EAAUhB,EAAYiB,OAAOQ,IAGnC,GADkBnC,EAAY+B,MAAK,EAAChB,GAAEA,KAASA,IAAOW,EAAQX,KAE5D,OAGFf,EAAYgC,KAAKN,GACjBvB,aAAa8B,QAAQvC,EAAAW,OAAOC,aAAcL,KAAKiC,UAAUlC,G","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { instruments } from './helpers/instruments';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\n// const KEY_FAVORITE = 'favorite';\n// const KEY_BASKET = 'basket';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\n//  {\n//     id: 8,\n//     img: 'https://static.dnipro-m.ua/cache/products/2741/catalog_origin_271775.jpg',\n//     name: 'Генератор',\n//     price: 10890,\n//     description:\n//       'Бензиновий генератор GX-25 номінальною потужністю 2,5 кВт забезпечить автономність побутових приладів на дачі або у приватному будинку. Ви зможете одночасно підключити до нього освітлення, холодильник, зарядку телефону, ноутбук та водяний насос.',\n//   },\ncreateMarkup(instruments, list);\nlist.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  e.preventDefault();\n  if (e.target.classList.contains('js-info')) {\n    const { id } = e.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n    createModal(product);\n  }\n  if (e.target.classList.contains('js-basket')) {\n    const { id } = e.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n\n  if (e.target.classList.contains('js-favorite')) {\n    const { id } = e.target.closest('.js-card').dataset;\n    const product = findProduct(Number(id));\n\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n\nfunction findProduct(productID) {\n  return instruments.find(({ id }) => id === productID);\n}\n"],"names":["$UDlvM","parcelRequire","document","querySelector","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$ref","$1f0dc3b9307be026$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$1f0dc3b9307be026$var$ref1","$1f0dc3b9307be026$var$basketArr","KEY_BASKET","$1f0dc3b9307be026$var$findProduct","productID","$c1Bmg","instruments","find","id","$dEdDu","createMarkup","addEventListener","e","preventDefault","target","classList","contains","closest","dataset","product","Number","$l5ICX","createModal","id1","some","push","setItem","stringify","id3"],"version":3,"file":"index.523c0573.js.map"}